@model System.Collections.Generic.List<MyLibraryProject.Models.Book>

@{
    ViewBag.Title = "Home Page";
}

<div class="jumbotron" style="background-image: url(../../Images/Books.jpg); background-size: cover; color: ghostwhite">
    <h1><strong>My Library</strong></h1>

</div>

<div class="row">
    <div class="col-md-8">
        <h2>Most Recent Book</h2>
        
            @if(Model.Count > 0)
            {
            <h3> @Html.ActionLink(Model.OrderByDescending(i => i.Id).First().Title, "BookDetail", new { BookId = Model.OrderByDescending(i => i.Id).First().Id }) </h3>
            <p> @Model.OrderByDescending(i => i.Id).First().Author </p>
            }
             

    </div>
    <div class="col-md-4">
        <h2>Top Ranked Books</h2>

        @for (var y = 0; y < 3; y++)
        {
            if(y < Model.Count())
            {
                var RatedBook = Model.OrderByDescending(i => i.Rating).ElementAt(y);

                <h3>@Html.ActionLink(RatedBook.Title, "BookDetail", new { BookId = RatedBook.Id })</h3>
                <p>@RatedBook.Author</p>
                <p>@RatedBook.Rating/5</p>}
            else
            {
                break;
            }

        }
        
    </div>
</div>

<h3>@Html.ActionLink("Add a new book!", "Add")</h3>